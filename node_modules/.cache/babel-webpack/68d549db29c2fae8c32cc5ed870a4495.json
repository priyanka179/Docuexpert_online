{"ast":null,"code":"import _asyncToGenerator from \"F:/statvalu/project/AR_DocuExpert_Test/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { HttpEventType } from '@angular/common/http';\nimport { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"src/app/_helpers/common/commonn.service\";\nimport * as i3 from \"ngx-pagination\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nconst _c0 = [\"csvtable\"];\n\nfunction PreviewCsvComponent_th_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const i_r5 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.getChar(i_r5));\n  }\n}\n\nfunction PreviewCsvComponent_tr_33_td_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 25);\n    i0.ɵɵlistener(\"click\", function PreviewCsvComponent_tr_33_td_3_Template_td_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const cell_r10 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return ctx_r11.redirectToDir(cell_r10);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const cell_r10 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"url\", ctx_r8.isUrl(cell_r10));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(cell_r10);\n  }\n}\n\nfunction PreviewCsvComponent_tr_33_td_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"td\");\n  }\n}\n\nfunction PreviewCsvComponent_tr_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 23);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, PreviewCsvComponent_tr_33_td_3_Template, 2, 3, \"td\", 24);\n    i0.ɵɵtemplate(4, PreviewCsvComponent_tr_33_td_4_Template, 1, 0, \"td\", 21);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r6 = ctx.$implicit;\n    const i_r7 = ctx.index;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r7 + 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", data_r6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.fillTable(data_r6.length));\n  }\n}\n\nconst _c1 = function (a0, a1) {\n  return {\n    itemsPerPage: a0,\n    currentPage: a1\n  };\n};\n\nexport class PreviewCsvComponent {\n  constructor(httpClient, _common) {\n    this.httpClient = httpClient;\n    this._common = _common; // csvData: any[] = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14];\n\n    this.csvData = [];\n    this.maxColumnNum = 0;\n    this.columnSize = 5;\n    this.page = 1;\n    this.pageSize = 14;\n    this.path = \"\";\n    this.onClose = new EventEmitter();\n    this.isLinkClicked = false;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    let formdata = new FormData();\n    formdata.append('dir_path', this.path);\n    this.httpClient.post('/document_upload/download_output_files/', formdata, {\n      reportProgress: true,\n      observe: 'events'\n    }).subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (res) {\n        if (res.type === HttpEventType.DownloadProgress) {\n          const percentDone = Math.round(100 * res.loaded / res.total);\n          _this._common.loaderText = `Downloading CSV ${percentDone}%`;\n        }\n\n        if (res.type === HttpEventType.Response) {\n          console.log(atob(res.body['res_data']['encoded_string'])); // let csvDataParse = Papa.parse(atob(res.body['res_data']['encoded_string']));\n\n          let csvDataParse = Papa.parse(yield _this._common.csvToText(res.body.res_data.encoded_string), {\n            skipEmptyLines: true\n          });\n          console.log(\"csv\", csvDataParse);\n          let solved = yield _this.getMaxColumns(csvDataParse.data);\n\n          if (solved) {\n            _this.csvData = csvDataParse.data;\n          }\n        }\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n  ngAfterViewInit() {\n    console.log(this.tableElement.nativeElement.offsetWidth);\n  }\n\n  getMaxColumns(data) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      return new Promise((resolve, reject) => {\n        for (let i = 0; i < data.length; i++) {\n          _this2.maxColumnNum = Math.max(_this2.maxColumnNum, data[i].length);\n\n          if (i == data.length - 1) {\n            _this2.maxColumnSize = new Array(_this2.maxColumnNum + _this2.columnSize).fill('');\n            resolve(_this2.maxColumnNum);\n          }\n        }\n      });\n    })();\n  }\n\n  fillTable(len) {\n    return new Array(this.maxColumnNum + this.columnSize - len).fill('');\n  }\n\n  getChar(num) {\n    return String.fromCharCode(65 + num);\n  }\n\n  hideCsv() {\n    this.onClose.emit('');\n  }\n\n  isUrl(str) {\n    let basePathList = ['Input', 'Req', 'Err_Info', 'Output'];\n    let isUrl = basePathList.some(basePath => {\n      if (str.includes(basePath)) {\n        return true;\n      } else {\n        return false;\n      }\n    });\n    return isUrl;\n  }\n\n  redirectToDir(path) {\n    this.isLinkClicked = true; // this._common.$hideExternalViewer.next('');\n    // console.log(path);\n    // if (path.includes('Input')) {\n    //   this._common.redirectToDir(path, 'input');\n    // } else if (path.includes('Req')) {\n    //   this._common.redirectToDir(path, 'req');\n    // } else if (path.includes('Err_Info')) {\n    //   this._common.redirectToDir(path, 'err');\n    // } else if (path.includes('Output')) {\n    //   this._common.redirectToDir(path, 'output');\n    // }\n    // window.location.reload();\n  }\n\n}\n\nPreviewCsvComponent.ɵfac = function PreviewCsvComponent_Factory(t) {\n  return new (t || PreviewCsvComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.CommonnService));\n};\n\nPreviewCsvComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PreviewCsvComponent,\n  selectors: [[\"app-preview-csv\"]],\n  viewQuery: function PreviewCsvComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.tableElement = _t.first);\n    }\n  },\n  inputs: {\n    path: \"path\"\n  },\n  outputs: {\n    onClose: \"onClose\"\n  },\n  decls: 38,\n  vars: 20,\n  consts: [[1, \"preview-csv\", \"px-5\", \"pt-3\"], [1, \"d-flex\"], [3, \"pageChange\"], [\"p\", \"paginationApi\"], [1, \"d-flex\", \"align-items-center\", \"mb-3\", \"pagination\"], [1, \"found-text\"], [1, \"d-flex\", \"align-items-center\"], [1, \"text-nowrap\", \"pagination-text\"], [\"type\", \"text\", \"value\", \"p.getCurrent()\", 1, \"position-relative\", 2, \"width\", \"30px\", \"text-align\", \"center\", \"border\", \"none\", \"outline\", \"none\", \"top\", \"0px\", 3, \"ngModel\", \"ngModelChange\"], [\"aria-label\", \"Default select example\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"14\"], [\"value\", \"20\"], [\"value\", \"30\"], [1, \"d-flex\", \"pagination-icon\"], [1, \"fas\", \"fa-chevron-left\", \"cp\", 3, \"click\"], [1, \"fas\", \"fa-chevron-right\", \"cp\", 3, \"click\"], [1, \"close-btn\", \"position-absolute\", \"nunito\", \"d-flex\", \"align-items-center\", \"p-1\", \"cp\", 3, \"click\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"table-responsive\", 2, \"overflow\", \"auto\"], [1, \"csvtable\", \"w-100\"], [\"csvtable\", \"\"], [4, \"ngFor\", \"ngForOf\"], [1, \"output-pdf\"], [1, \"slno\", \"text-center\"], [\"style\", \"white-space: nowrap;\", 3, \"url\", \"click\", 4, \"ngFor\", \"ngForOf\"], [2, \"white-space\", \"nowrap\", 3, \"click\"]],\n  template: function PreviewCsvComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r14 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"pagination-template\", 2, 3);\n      i0.ɵɵlistener(\"pageChange\", function PreviewCsvComponent_Template_pagination_template_pageChange_2_listener($event) {\n        return ctx.page = $event;\n      });\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelementStart(5, \"div\");\n      i0.ɵɵelementStart(6, \"p\", 5);\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 6);\n      i0.ɵɵelementStart(9, \"div\");\n      i0.ɵɵelementStart(10, \"p\", 7);\n      i0.ɵɵelementStart(11, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function PreviewCsvComponent_Template_input_ngModelChange_11_listener($event) {\n        return ctx.page = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"select\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function PreviewCsvComponent_Template_select_ngModelChange_13_listener($event) {\n        return ctx.pageSize = $event;\n      })(\"change\", function PreviewCsvComponent_Template_select_change_13_listener() {\n        return ctx.page = 1;\n      });\n      i0.ɵɵelementStart(14, \"option\", 10);\n      i0.ɵɵtext(15, \"14\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"option\", 11);\n      i0.ɵɵtext(17, \"20\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"option\", 12);\n      i0.ɵɵtext(19, \"30\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 13);\n      i0.ɵɵelementStart(21, \"i\", 14);\n      i0.ɵɵlistener(\"click\", function PreviewCsvComponent_Template_i_click_21_listener() {\n        i0.ɵɵrestoreView(_r14);\n\n        const _r0 = i0.ɵɵreference(3);\n\n        return _r0.previous();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"i\", 15);\n      i0.ɵɵlistener(\"click\", function PreviewCsvComponent_Template_i_click_22_listener() {\n        i0.ɵɵrestoreView(_r14);\n\n        const _r0 = i0.ɵɵreference(3);\n\n        return _r0.next();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 16);\n      i0.ɵɵlistener(\"click\", function PreviewCsvComponent_Template_div_click_23_listener() {\n        return ctx.hideCsv();\n      });\n      i0.ɵɵelement(24, \"button\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"div\", 18);\n      i0.ɵɵelementStart(26, \"table\", 19, 20);\n      i0.ɵɵelementStart(28, \"thead\");\n      i0.ɵɵelementStart(29, \"tr\");\n      i0.ɵɵelement(30, \"th\");\n      i0.ɵɵtemplate(31, PreviewCsvComponent_th_31_Template, 2, 1, \"th\", 21);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"tbody\");\n      i0.ɵɵtemplate(33, PreviewCsvComponent_tr_33_Template, 5, 3, \"tr\", 21);\n      i0.ɵɵpipe(34, \"paginate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"div\", 22);\n      i0.ɵɵelementStart(36, \"h2\");\n      i0.ɵɵtext(37, \"jjnljj\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(3);\n\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\"\", ctx.csvData.length, \" Records Found\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.page);\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\"of \", _r0.getLastPage(), \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.pageSize);\n      i0.ɵɵadvance(8);\n      i0.ɵɵclassProp(\"fa-disabled\", _r0.isFirstPage());\n      i0.ɵɵadvance(1);\n      i0.ɵɵclassProp(\"fa-disabled\", _r0.isLastPage());\n      i0.ɵɵadvance(3);\n      i0.ɵɵclassProp(\"h-auto\", ctx.csvData.length <= 14)(\"output\", ctx.isLinkClicked);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.maxColumnSize);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(34, 14, ctx.csvData, i0.ɵɵpureFunction2(17, _c1, ctx.pageSize, ctx.page)));\n    }\n  },\n  directives: [i3.PaginationControlsDirective, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i4.SelectControlValueAccessor, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i5.NgForOf],\n  pipes: [i3.PaginatePipe],\n  styles: [\".preview-csv[_ngcontent-%COMP%] {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  width: 100vw;\\n  height: 100vh;\\n  z-index: 1200;\\n  background-color: #fff;\\n  font-weight: 500;\\n}\\n\\n.table-responsive[_ngcontent-%COMP%] {\\n  box-shadow: 0 1px 20px rgba(0, 0, 0, 0.3);\\n  width: auto;\\n  max-height: 84.2vh !important;\\n}\\n\\n.output[_ngcontent-%COMP%] {\\n  width: 70%;\\n  display: inline-block;\\n}\\n\\n.output-pdf[_ngcontent-%COMP%] {\\n  width: 30%;\\n  display: inline-block;\\n}\\n\\n.csvtable[_ngcontent-%COMP%] {\\n  cursor: cell;\\n}\\n\\n.csvtable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  min-width: 97.8px;\\n  padding: 4px 0;\\n  height: 35px;\\n  background-color: #F5F6F7;\\n  border: 1px solid #e7e7e7;\\n  text-align: center;\\n  font-size: 14px;\\n  font-weight: 400;\\n}\\n\\n.csvtable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  min-width: 96px;\\n  height: 35px;\\n  background-color: #fff;\\n  border: 1px solid #e7e7e7;\\n  padding: 0 8px;\\n  -webkit-user-select: all !important;\\n          user-select: all !important;\\n}\\n\\n.csvtable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .slno[_ngcontent-%COMP%] {\\n  width: 96px;\\n  background-color: #F5F6F7;\\n  font-size: 14px;\\n  vertical-align: middle;\\n}\\n\\n.close-btn[_ngcontent-%COMP%] {\\n  top: 0;\\n  right: 42px;\\n  z-index: 1002;\\n  box-shadow: 0 0 7px 2px rgba(0, 0, 0, 0.15);\\n  transition: all 0.4s ease;\\n}\\n\\n.close-btn[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%] {\\n  font-size: 12px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByZXZpZXctY3N2LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBO0VBQ0ksZUFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLGdCQUFBO0FBRko7O0FBTUE7RUFDSSx5Q0FBQTtFQUNBLFdBQUE7RUFDQSw2QkFBQTtBQUhKOztBQU1BO0VBQ0ksVUFBQTtFQUNBLHFCQUFBO0FBSEo7O0FBTUE7RUFDSSxVQUFBO0VBQ0EscUJBQUE7QUFISjs7QUFNQTtFQUNJLFlBQUE7QUFISjs7QUFNWTtFQUNJLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLFlBQUE7RUFDQSx5QkFBQTtFQUNBLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUFKaEI7O0FBVVk7RUFDSSxlQUFBO0VBQ0EsWUFBQTtFQUNBLHNCQUFBO0VBQ0EseUJBQUE7RUFDQSxjQUFBO0VBQ0EsbUNBQUE7VUFBQSwyQkFBQTtBQVJoQjs7QUFVWTtFQUNJLFdBQUE7RUFDQSx5QkFBQTtFQUNBLGVBQUE7RUFDQSxzQkFBQTtBQVJoQjs7QUFjQTtFQUNJLE1BQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLDJDQUFBO0VBQ0EseUJBQUE7QUFYSjs7QUFZSTtFQUNJLGVBQUE7QUFWUiIsImZpbGUiOiJwcmV2aWV3LWNzdi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiRibGFjazogIzM2NGE2MztcclxuJGxpZ2h0YmxhY2s6ICM1MjY0ODQ7XHJcblxyXG4ucHJldmlldy1jc3Yge1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHJpZ2h0OiAwO1xyXG4gICAgYm90dG9tOiAwO1xyXG4gICAgd2lkdGg6IDEwMHZ3O1xyXG4gICAgaGVpZ2h0OiAxMDB2aDtcclxuICAgIHotaW5kZXg6IDEyMDA7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICAgIC8vIGZvbnQtZmFtaWx5OiBcIkxhdG9cIiwgc2Fucy1zZXJpZjtcclxufVxyXG5cclxuLnRhYmxlLXJlc3BvbnNpdmUge1xyXG4gICAgYm94LXNoYWRvdzogMCAxcHggMjBweCByZ2IoMCAwIDAgLyAzMCUpO1xyXG4gICAgd2lkdGg6IGF1dG87XHJcbiAgICBtYXgtaGVpZ2h0OiA4NC4ydmggIWltcG9ydGFudDtcclxufVxyXG5cclxuLm91dHB1dHtcclxuICAgIHdpZHRoOiA3MCU7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbn1cclxuXHJcbi5vdXRwdXQtcGRme1xyXG4gICAgd2lkdGg6IDMwJTtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxufVxyXG5cclxuLmNzdnRhYmxlIHtcclxuICAgIGN1cnNvcjogY2VsbDtcclxuICAgIHRoZWFkIHtcclxuICAgICAgICB0ciB7XHJcbiAgICAgICAgICAgIHRoIHtcclxuICAgICAgICAgICAgICAgIG1pbi13aWR0aDogOTcuOHB4O1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogNHB4IDA7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDM1cHg7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjVGNkY3O1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiKDIzMSwgMjMxLCAyMzEpO1xyXG4gICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHRib2R5IHtcclxuICAgICAgICB0ciB7XHJcbiAgICAgICAgICAgIHRkIHtcclxuICAgICAgICAgICAgICAgIG1pbi13aWR0aDogOTZweDtcclxuICAgICAgICAgICAgICAgIGhlaWdodDogMzVweDtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMjMxLCAyMzEsIDIzMSk7XHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwIDhweDtcclxuICAgICAgICAgICAgICAgIHVzZXItc2VsZWN0OiBhbGwgIWltcG9ydGFudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuc2xubyB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogOTZweDtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGNUY2Rjc7XHJcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4uY2xvc2UtYnRuIHtcclxuICAgIHRvcDogMDtcclxuICAgIHJpZ2h0OiA0MnB4O1xyXG4gICAgei1pbmRleDogMTAwMjtcclxuICAgIGJveC1zaGFkb3c6IDAgMCA3cHggMnB4IHJnYigwIDAgMCAvIDE1JSk7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC40cyBlYXNlO1xyXG4gICAgLmJ0bi1jbG9zZSB7XHJcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgfVxyXG59XHJcbiJdfQ== */\"]\n});","map":{"version":3,"sources":["F:\\statvalu\\project\\AR_DocuExpert_Test\\src\\app\\shared\\preview-csv\\preview-csv.component.ts","F:\\statvalu\\project\\AR_DocuExpert_Test\\src\\app\\shared\\preview-csv\\preview-csv.component.html"],"names":[],"mappings":"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","sourcesContent":["import { HttpClient, HttpEventType } from '@angular/common/http';\r\nimport { AfterViewInit, Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { CommonnService } from 'src/app/_helpers/common/commonn.service';\r\ndeclare var Papa: any;\r\n\r\n@Component({\r\n  selector: 'app-preview-csv',\r\n  templateUrl: './preview-csv.component.html',\r\n  styleUrls: ['./preview-csv.component.scss'],\r\n})\r\nexport class PreviewCsvComponent implements OnInit, AfterViewInit {\r\n\r\n  // csvData: any[] = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14];\r\n  csvData: any[] = [];\r\n\r\n  maxColumnNum: number = 0;\r\n  maxColumnSize: any[];\r\n\r\n  columnSize: number = 5;\r\n\r\n  page: number = 1;\r\n  pageSize: number = 14;\r\n\r\n  @Input()\r\n  path: string = \"\";\r\n\r\n  @Output()\r\n  onClose = new EventEmitter();\r\n\r\n  @ViewChild('csvtable') tableElement: ElementRef;\r\n  isLinkClicked: boolean=false;\r\n  \r\n  constructor(private httpClient: HttpClient, private _common: CommonnService) { }\r\n\r\n  ngOnInit(): void {\r\n    let formdata = new FormData;\r\n\r\n    formdata.append('dir_path', this.path);\r\n\r\n    this.httpClient.post(\r\n      '/document_upload/download_output_files/',\r\n      formdata,{reportProgress: true, observe: 'events'})\r\n      .subscribe(async (res: any) => {\r\n        if (res.type === HttpEventType.DownloadProgress) {\r\n          const percentDone = Math.round(100 * res.loaded / res.total);\r\n          this._common.loaderText = `Downloading CSV ${percentDone}%`;\r\n        }\r\n\r\n        if (res.type === HttpEventType.Response) {\r\n          console.log(atob(res.body['res_data']['encoded_string']));\r\n          \r\n          // let csvDataParse = Papa.parse(atob(res.body['res_data']['encoded_string']));\r\n          let csvDataParse = Papa.parse(await this._common.csvToText(res.body.res_data.encoded_string), { skipEmptyLines: true });\r\n\r\n          console.log(\"csv\",csvDataParse);\r\n          \r\n          \r\n          let solved = await this.getMaxColumns(csvDataParse.data);\r\n          if(solved) {\r\n            this.csvData = csvDataParse.data;\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    console.log(this.tableElement.nativeElement.offsetWidth);\r\n  }\r\n\r\n  async getMaxColumns(data: any) {\r\n    return new Promise((resolve, reject) => {\r\n      for (let i = 0; i < data.length; i++) {\r\n        this.maxColumnNum = Math.max(this.maxColumnNum, data[i].length);\r\n        if (i == data.length - 1) {\r\n          this.maxColumnSize = new Array(this.maxColumnNum + this.columnSize).fill('');\r\n          \r\n          resolve(this.maxColumnNum);\r\n        }\r\n      }\r\n    }); \r\n  }\r\n\r\n  fillTable(len:number) {\r\n    return new Array((this.maxColumnNum + this.columnSize) - len).fill('');\r\n  }\r\n\r\n  getChar(num:number) {\r\n    return String.fromCharCode(65+num);\r\n  }\r\n\r\n  hideCsv() {\r\n    this.onClose.emit('');\r\n  }\r\n\r\n  isUrl(str:string) {\r\n    let basePathList = ['Input', 'Req','Err_Info','Output'];\r\n\r\n    let isUrl = basePathList.some(basePath => {\r\n      if(str.includes(basePath)) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n\r\n    return isUrl;\r\n  }\r\n\r\n  redirectToDir(path:string) {\r\n    this.isLinkClicked=true\r\n    // this._common.$hideExternalViewer.next('');\r\n    // console.log(path);\r\n    \r\n    // if (path.includes('Input')) {\r\n    //   this._common.redirectToDir(path, 'input');\r\n    // } else if (path.includes('Req')) {\r\n    //   this._common.redirectToDir(path, 'req');\r\n    // } else if (path.includes('Err_Info')) {\r\n    //   this._common.redirectToDir(path, 'err');\r\n    // } else if (path.includes('Output')) {\r\n    //   this._common.redirectToDir(path, 'output');\r\n    // }\r\n\r\n    // window.location.reload();\r\n  }\r\n\r\n}\r\n","<div class=\"preview-csv px-5 pt-3\">\r\n    <div class=\"d-flex\">\r\n        <pagination-template #p=\"paginationApi\" (pageChange)=\"page = $event\">\r\n            <div class=\"d-flex align-items-center mb-3 pagination\">\r\n                <div>\r\n                    <p class=\"found-text\">{{csvData.length}} Records Found</p>\r\n                </div>\r\n                <div class=\"d-flex align-items-center\">\r\n                    <div>\r\n                        <p class=\"text-nowrap pagination-text\"><input class=\"position-relative\" type=\"text\" value=\"p.getCurrent()\" [(ngModel)]=\"page\" style=\"width: 30px;text-align: center;border: none;outline: none;top: 0px;\">of\r\n                            {{p.getLastPage()}}\r\n                        </p>\r\n                    </div>\r\n                    <select class=\"form-select\" aria-label=\"Default select example\" [(ngModel)]=\"pageSize\" (change)=\"page = 1\">\r\n                        <option value=\"14\">14</option>\r\n                        <option value=\"20\">20</option>\r\n                        <option value=\"30\">30</option>\r\n                    </select>\r\n                    <div class=\"d-flex pagination-icon\">\r\n                        <i class=\"fas fa-chevron-left cp\" (click)=\"p.previous()\" [class.fa-disabled]=\"p.isFirstPage()\"></i>\r\n                        <i class=\"fas fa-chevron-right cp\" (click)=\"p.next()\" [class.fa-disabled]=\"p.isLastPage()\"></i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </pagination-template>\r\n        <div class=\"close-btn position-absolute nunito d-flex align-items-center p-1 cp\" (click)=\"hideCsv()\">\r\n            <button type=\"button\" class=\"btn-close\" aria-label=\"Close\"></button>\r\n        </div>\r\n    </div>\r\n    <div class=\"table-responsive\" [class.h-auto]=\"csvData.length <= 14\" [class.output]=\"isLinkClicked\" style=\"overflow: auto;\">\r\n        <table class=\"csvtable w-100\" #csvtable>\r\n            <thead>\r\n                <tr>    \r\n                    <th></th>\r\n                    <th *ngFor=\"let data of maxColumnSize;let i=index\">{{getChar(i)}}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor=\"let data of csvData | paginate: { itemsPerPage: pageSize, currentPage: page};let i = index\">\r\n                    <td class=\"slno text-center\">{{i+1}}</td>\r\n                    <td style=\"white-space: nowrap;\" *ngFor=\"let cell of data\" [class.url]=\"isUrl(cell)\" (click)=\" redirectToDir(cell)\">{{cell}}</td>\r\n                    <td *ngFor=\"let dd of fillTable(data.length)\"></td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n    <div class=\"output-pdf\">\r\n<h2>jjnljj</h2>\r\n    </div>\r\n</div>\r\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}